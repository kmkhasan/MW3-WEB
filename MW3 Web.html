<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MW3 Design+Partners — Architectural Excellence</title>

  <!-- Fonts & Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800;900&family=Poppins:wght@600;800;900&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- Swiper for hero + testimonials -->
  <link rel="stylesheet" href="https://unpkg.com/swiper@11/swiper-bundle.min.css"/>

  <style>
    /* ======================
       THEME TOKENS
       ====================== */
    :root{
      --primary:#ff3b5f;         
      --secondary:#6c4cff;       
      --accent:#18e299;          
      --text:#ffffff;
      --bg:#0a0b10;
      --muted:rgba(255,255,255,.70);
      --card:rgba(255,255,255,.06);
      --glass:rgba(255,255,255,.08);
      --glass-border:rgba(255,255,255,.18);
      --shadow:0 14px 40px rgba(0,0,0,.35);
      --grad-primary:linear-gradient(135deg,#ff5872 0%,#ff3b5f 45%,#6c4cff 100%);
      --grad-cta:linear-gradient(135deg,#6c4cff 0%,#9a58ff 50%,#ff3b5f 100%);
      --radius:22px;
      --ease:cubic-bezier(.23,1,.32,1);
    }
    [data-theme="light"]{
      --text:#0b1220;
      --bg:#f4f6fa; 
      --muted:#475569;
      --card:rgba(255,255,255,0.75); 
      --glass:rgba(255,255,255,0.85); 
      --glass-border:rgba(255,255,255,0.6);
      --shadow:0 20px 60px -10px rgba(15,23,42,.15);
      --primary: #e91e63; 
      --secondary: #3f51b5; 
    }

    /* Base reset */
    *{box-sizing:border-box;margin:0;padding:0}
    html{scroll-behavior:smooth}
    body{
      font-family:Inter,system-ui,Segoe UI,Roboto,sans-serif;
      color:var(--text); background:var(--bg); line-height:1.7; overflow-x:hidden;
    }

    /* Scroll Progress Bar */
    .progress-bar {
      position: fixed; top: 0; left: 0; width: 0%; height: 4px;
      background: var(--grad-primary); z-index: 1000;
      transition: width 0.1s;
    }

    /* Ambient blobs */
    body::before{
      content:""; position:fixed; inset:0; z-index:-2;
      background:
        radial-gradient(900px 900px at 15% 85%, color-mix(in oklab, var(--primary) 15%, transparent) , transparent 60%),
        radial-gradient(1000px 1000px at 85% 15%, color-mix(in oklab, var(--secondary) 15%, transparent), transparent 60%),
        radial-gradient(700px 700px at 50% 50%, color-mix(in oklab, var(--accent) 10%, transparent), transparent 60%);
      animation:drift 22s ease-in-out infinite alternate;
    }
    @keyframes drift{to{transform:translate3d(0,-16px,0) scale(1.01)}}

    /* ======================
       NAVBAR & MOBILE MENU
       ====================== */
    .navbar{
      position:fixed; inset:0 0 auto 0; z-index:50; height:74px;
      backdrop-filter: blur(20px) saturate(1.8);
      -webkit-backdrop-filter: blur(20px) saturate(1.8);
      background: var(--glass); 
      border-bottom:1px solid var(--glass-border);
      transform:translateY(-10px); opacity:0; transition:all .45s var(--ease);
    }
    .navbar.scrolled{ box-shadow:var(--shadow) }
    .nav-wrap{max-width:1280px; margin:0 auto; padding:0 20px; height:100%;
      display:flex; align-items:center; gap:18px}
    .brand{font-family:Poppins,Inter,sans-serif; font-weight:900; letter-spacing:.4px;
      text-decoration:none; color:var(--text); font-size:1.6rem; z-index: 52;}
    
    /* Desktop Nav */
    .nav-links{margin-left:auto;display:flex;gap:26px; align-items: center;}
    .nav-links a{
      text-decoration:none; color:var(--text); font-weight:700; position:relative; padding:6px 0;
      transition: color 0.3s;
    }
    .nav-links a:hover{ color: var(--primary); }
    .nav-links a::after{
      content:""; position:absolute; left:50%; bottom:-6px; height:3px; width:0; border-radius:2px;
      background:var(--grad-primary); transition:all .35s var(--ease); transform: translateX(-50%);
    }
    .nav-links a:hover::after, .nav-links a.active::after{width:100%}

    /* Mobile Menu Button */
    .menu-btn { 
        display: none; background: none; border: none; font-size: 1.5rem; color: var(--text); cursor: pointer; margin-left: auto; z-index: 52;
    }

    .toggle{
      margin-left:10px; display:inline-flex; align-items:center; gap:8px;
      padding:8px 12px; border-radius:999px; background:var(--card); border:1px solid var(--glass-border);
      cursor:pointer; transition:transform .35s var(--ease);
    }
    .toggle:hover{transform:translateY(-2px) rotate(5deg)}

    @media (max-width:900px){ 
        .nav-links{
            position: fixed; inset: 0; background: var(--bg); flex-direction: column; 
            padding: 80px 40px; gap: 30px; align-items: center; justify-content: center;
            transform: translateX(100%); transition: transform 0.4s var(--ease);
            backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
            background: color-mix(in oklab, var(--bg) 95%, transparent); z-index: 51;
        }
        .nav-links.open { transform: translateX(0); }
        .nav-links a { font-size: 1.8rem; }
        .menu-btn { display: block; }
        .toggle { margin-left: 0; transform: scale(1.2); margin-top: 20px;}
    }

    /* ======================
       HERO
       ====================== */
    .hero{height:100svh; position:relative; overflow:hidden}
    .hero .swiper{position:absolute; inset:0}
    .hero .swiper-slide img{
      width:100%; height:100%; object-fit:cover;
      filter:brightness(.75) saturate(1.1);
      transition: transform 8s ease;
    }
    .hero .swiper-slide-active img { transform: scale(1.1); }
    
    .hero-overlay{position:relative; z-index:2; display:grid; place-items:center; height:100%; text-align:center; padding:0 20px}
    
    .hero h1{
      font-family:Poppins,Inter,sans-serif; font-weight:900; letter-spacing:-.02em;
      font-size:clamp(2.4rem, 6vw, 5.6rem);
      background:linear-gradient(135deg,#fff 0%,#f0f0f0 30%, var(--primary) 60%, var(--secondary) 100%);
      background-size: 200% auto;
      -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
      text-shadow:0 10px 50px rgba(0,0,0,.35);
      animation: shine 5s linear infinite;
      line-height: 1.1;
    }
    [data-theme="light"] .hero h1 {
        background:linear-gradient(135deg,#ffffff 0%,#f8fafc 40%, var(--primary) 70%, var(--secondary) 100%);
        background-size: 200% auto;
        -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
        text-shadow: 0 15px 40px rgba(0,0,0,0.5);
    }
    @keyframes shine { to { background-position: 200% center; } }

    .hero p{
      max-width:900px; margin:14px auto 24px; color:rgba(255,255,255,0.95); 
      font-size:clamp(1rem, 2vw, 1.35rem); text-shadow: 0 4px 12px rgba(0,0,0,0.5);
      opacity: 0; animation: fadeUp 1s 0.5s forwards; transform: translateY(20px);
    }
    .cta-row{display:flex; gap:12px; justify-content:center; flex-wrap:wrap; opacity:0; animation: fadeUp 1s 0.8s forwards; transform: translateY(20px);}
    @keyframes fadeUp { to { opacity:1; transform:translateY(0); } }

    .btn{
      display:inline-flex; align-items:center; gap:10px; padding:14px 26px; border-radius:999px; border:none; cursor:pointer;
      font-weight:800; text-decoration:none; transition:all .35s var(--ease);
      position: relative; overflow: hidden;
    }
    .btn.primary{ background:var(--grad-primary); color:#fff; box-shadow:0 10px 30px color-mix(in oklab, var(--primary) 40%, transparent) }
    .btn.ghost{ background:rgba(255,255,255,0.1); color:#fff; border:1px solid rgba(255,255,255,0.3); backdrop-filter:blur(8px) }
    .btn:hover{ transform:translateY(-4px) scale(1.05); box-shadow:0 20px 40px color-mix(in oklab, var(--primary) 30%, transparent) }
    .btn::after {
        content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
        transition: 0.5s;
    }
    .btn:hover::after { left: 100%; }

    /* Scroll Reveals */
    .reveal-up { opacity: 0; transform: translateY(50px); transition: all 0.8s var(--ease); }
    .reveal-left { opacity: 0; transform: translateX(-50px); transition: all 0.8s var(--ease); }
    .reveal-right { opacity: 0; transform: translateX(50px); transition: all 0.8s var(--ease); }
    .active.reveal-up, .active.reveal-left, .active.reveal-right { opacity: 1; transform: translate(0); }

    /* ======================
       SECTIONS
       ====================== */
    .section{padding:100px 20px; overflow: hidden;}
    @media (max-width: 768px) { .section { padding: 60px 20px; } }
    .container{max-width:1280px; margin:0 auto; position: relative;}
    
    .title{
      font-family:Poppins,Inter,sans-serif; font-weight:900; letter-spacing:-.02em;
      font-size:clamp(1.8rem, 5vw, 3.2rem); margin-bottom:10px;
      background:linear-gradient(135deg,var(--text) 0%,var(--text) 35%, var(--secondary) 60%, var(--primary) 100%);
      -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
      display: inline-block;
    }
    .lead{color:var(--muted); max-width:70ch}

    /* Cards */
    .feature-grid{margin-top:28px; display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:24px}
    @media (max-width: 600px) { .feature-grid { grid-template-columns: 1fr; } }

    .card{
      background:var(--card); border:1px solid var(--glass-border); border-radius:var(--radius); padding:28px; position:relative;
      box-shadow:var(--shadow); transition:transform .35s var(--ease); backdrop-filter:blur(12px);
      overflow: hidden;
    }
    .card:hover{transform:translateY(-10px) scale(1.02); z-index: 2;}
    .card .icon{
      width:56px;height:56px;border-radius:16px;margin-bottom:16px;display:grid;place-items:center;
      background:var(--grad-primary); color:#fff; box-shadow:0 12px 24px color-mix(in oklab, var(--primary) 35%, transparent);
      font-size:1.6rem; transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    .card:hover .icon { transform: scale(1.1) rotate(-5deg); }
    .card h3{font-weight:900;margin-bottom:8px; font-size: 1.25rem;}
    .card p{color:var(--muted); font-size: 0.95rem; line-height: 1.6;}

    /* Portfolio */
    .filters{display:flex;gap:12px;flex-wrap:wrap;margin:12px 0 28px; justify-content: center;}
    .chip{
      padding:10px 20px; border-radius:999px; border:1px solid var(--glass-border); background:var(--glass);
      font-weight:700; cursor:pointer; transition:all .3s var(--ease); backdrop-filter:blur(4px);
    }
    .chip.active,.chip:hover{background:var(--grad-primary); color:#fff; border-color:transparent; transform: translateY(-2px); box-shadow: 0 5px 15px color-mix(in oklab, var(--primary) 30%, transparent);}
    
    .portfolio{display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:24px}
    @media (max-width: 640px) { .portfolio { grid-template-columns: 1fr; } }

    .work{
      border-radius:24px; overflow:hidden; background:var(--card); border:1px solid var(--glass-border); 
      cursor:pointer; transition:all .4s var(--ease); backdrop-filter:blur(8px);
      position: relative;
    }
    .work:hover{transform:translateY(-8px); box-shadow: 0 25px 50px -12px rgba(0,0,0,0.25);}
    .work .thumb{height:240px;background:#111; overflow:hidden; position:relative;}
    .work .thumb img{width:100%;height:100%;object-fit:cover; transition:transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);}
    .work:hover .thumb img{transform:scale(1.1)}
    .work .meta{padding:18px 22px; position:relative; z-index: 2;}
    .work h3 { font-size: 1.2rem; font-weight: 800; margin-bottom: 4px; transition: color 0.3s; }
    .work:hover h3 { color: var(--primary); }
    .tags{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .tag{padding:6px 12px;border-radius:999px;border:1px solid color-mix(in oklab, var(--primary) 30%, transparent);
      color:var(--primary); background:color-mix(in oklab, var(--primary) 12%, transparent); font-size:.75rem; font-weight:800;}

    /* ======================
       TEAM — Robust Sprite Sheet Logic
       ====================== */
    .team{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:30px;margin-top:32px}
    .person{
      text-align:center;
      background:var(--card); border:1px solid var(--glass-border); border-radius:30px; padding:24px;
      box-shadow:var(--shadow); backdrop-filter:blur(16px);
      transition:all .5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      position: relative; overflow: hidden;
    }
    .person:hover{ transform:translateY(-12px) scale(1.02); box-shadow:0 30px 80px rgba(0,0,0,.12); }
    
    .avatar-wrap{
        position:relative; width:160px; height:160px; border-radius:50%; margin:0 auto 18px; 
        overflow:hidden; /* Critical for masking the sprite */
        box-shadow:0 10px 40px rgba(0,0,0,.2);
        transform:translateZ(0); border: 4px solid rgba(255,255,255,0.5);
        transition: border-color 0.3s;
    }
    .person:hover .avatar-wrap { border-color: var(--primary); }
    
    /* The sprite image within the circle */
    .avatar-wrap img {
        position: absolute;
        /* Logic: 3 columns = 300% width, 4 rows = 400% height */
        width: 300%; 
        height: 400%; 
        object-fit: cover;
        /* Positioning (left/top) set via JS */
        transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    .person h4{font-weight:900;margin-bottom:6px; font-size: 1.1rem;}
    .role{
        display: inline-block; padding: 4px 12px; border-radius: 99px;
        background: color-mix(in oklab, var(--text) 5%, transparent);
        color:var(--muted); font-weight:700; font-size:.8rem;
    }

    /* Contact */
    .contact-wrap{display:grid; grid-template-columns:1.05fr .95fr; gap:40px; align-items:stretch}
    @media (max-width:1024px){.contact-wrap{grid-template-columns:1fr}}
    
    .panel{
      position:relative; border-radius:30px; padding:40px; background:var(--card);
      border:1px solid var(--glass-border); box-shadow:var(--shadow); isolation:isolate;
      backdrop-filter:blur(20px);
    }
    @media (max-width: 600px) { .panel { padding: 24px; } }

    /* Animated Border */
    .panel::before{
      content:""; position:absolute; inset:-50%; border-radius:inherit; z-index:-1;
      background:conic-gradient(from 0deg, transparent 0%, transparent 60%, var(--primary) 80%, var(--secondary) 100%);
      animation:hyper-spin 5s linear infinite; opacity: 0.7;
    }
    .panel::after{
      content:""; position:absolute; inset:3px; border-radius:26px; z-index:-1;
      background: color-mix(in srgb, var(--bg), white 40%); 
    }
    @keyframes hyper-spin{to{transform:rotate(360deg)}}

    .grid2{display:grid; grid-template-columns:1fr 1fr; gap:20px}
    @media (max-width:640px){.grid2{grid-template-columns:1fr}}
    
    .input,.textarea,select{
      width:100%; padding:16px 20px; border-radius:16px; border:2px solid transparent; background:rgba(255,255,255,0.6);
      color:var(--text); outline:none; transition:all .3s ease;
      font-family: inherit; font-weight: 500;
      box-shadow: 0 4px 10px rgba(0,0,0,0.03);
    }
    .input:focus,.textarea:focus,select:focus{
        background: #fff; border-color:var(--secondary); 
        box-shadow:0 10px 25px rgba(0,0,0,0.05); transform: translateY(-2px);
    }
    
    .cta-btn{
      position:relative; overflow:hidden; width:100%; padding:18px; border-radius:16px; border:none; cursor:pointer;
      background:var(--grad-cta); color:#fff; font-weight:900; font-size: 1.1rem; letter-spacing: 0.5px;
      box-shadow:0 16px 36px color-mix(in oklab, var(--secondary) 30%, transparent);
      transform:translateZ(0); transition:all .3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    .cta-btn:hover{transform:translateY(-4px) scale(1.02); box-shadow:0 25px 50px color-mix(in oklab, var(--secondary) 40%, transparent);}

    .visual{border-radius:30px; overflow:hidden; border:1px solid var(--glass-border); background:var(--card); box-shadow:var(--shadow); position:relative; backdrop-filter:blur(8px); min-height: 400px;}
    .visual img{width:100%;height:100%;object-fit:cover; filter:saturate(1.05) contrast(1.02); transition: transform 10s linear;}
    .visual:hover img { transform: scale(1.1); }
    .badge{position:absolute;left:24px;top:24px;padding:.6rem 1.2rem;border-radius:999px;background:rgba(255,255,255,0.9);color:#0b1220;font-weight:800;font-size:.85rem; box-shadow:0 10px 30px rgba(0,0,0,.15); backdrop-filter: blur(4px);}

    /* Footer */
    footer{position:relative;margin-top:84px;padding:100px 20px 40px;text-align:center;color:var(--muted);overflow:hidden;border-top:1px solid var(--glass-border); background: linear-gradient(to bottom, transparent, rgba(255,255,255,0.5));}
    
    #wg stop:nth-child(1){stop-color:color-mix(in oklab, var(--primary) 15%, #fff);}
    #wg stop:nth-child(2){stop-color:color-mix(in oklab, var(--secondary) 15%, #fff);}
    #wg stop:nth-child(3){stop-color:#ffffff;}

    .wave{position:absolute;inset:auto 0 0 0;height:180px;z-index:-1;color:color-mix(in oklab, #fff 60%, transparent); animation: waveMove 10s linear infinite alternate;}
    @keyframes waveMove { from { transform: scaleX(1); } to { transform: scaleX(1.1); } }

    .brandfx{
      display:inline-block;font-size:2.5rem;background:var(--grad-primary);
      -webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent; position:relative;
      font-weight: 900; margin-bottom: 1rem;
    }
    .social{display:flex;gap:16px;justify-content:center;margin:24px 0}
    .social a{
      width:50px;height:50px;display:grid;place-items:center;border-radius:50%;border:1px solid var(--glass-border);background:var(--card);
      color:var(--text);transition:all .3s cubic-bezier(0.175, 0.885, 0.32, 1.275); font-size: 1.2rem;
    }
    .social a:hover{transform:translateY(-6px) rotate(360deg); background:var(--grad-primary); color:#fff; box-shadow:0 16px 40px color-mix(in oklab, var(--primary) 35%, transparent)}
    
    .top{position:fixed;right:24px;bottom:24px;width:60px;height:60px;border-radius:18px;display:grid;place-items:center;color:#fff;background:var(--grad-primary);box-shadow:var(--shadow);text-decoration:none;opacity:0;visibility:hidden;transform:translateY(20px);transition:all .3s var(--ease);z-index:40}
    .top.show{opacity:1;visibility:visible;transform:translateY(0)}
    .top:hover{transform:translateY(-4px); box-shadow: 0 20px 40px color-mix(in oklab, var(--primary) 40%, transparent);}

    #dust{position:fixed; inset:0; z-index:1; pointer-events:none; mix-blend-mode:multiply; opacity:.4}
    .hero-overlay, .navbar, .section, footer, .top { position:relative; z-index:2 }
  </style>
</head>
<body>
  <!-- Scroll Progress -->
  <div class="progress-bar" id="progress"></div>

  <!-- Fairy dust canvas -->
  <canvas id="dust" aria-hidden="true"></canvas>

  <!-- NAV -->
  <nav class="navbar" id="nav">
    <div class="nav-wrap">
      <a class="brand" href="#home">MW3</a>
      <button class="menu-btn" id="menuBtn" aria-label="Open Menu"><i class="fa-solid fa-bars"></i></button>
      <div class="nav-links" id="links">
        <a href="#home" class="active">Home</a>
        <a href="#features">Services</a>
        <a href="#portfolio">Portfolio</a>
        <a href="#team">Team</a>
        <a href="#contact">Contact</a>
        <button class="toggle" id="theme" type="button" aria-label="Toggle theme">
            <i class="fa-solid fa-circle-half-stroke"></i><span id="tlabel">Light</span>
        </button>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="hero" id="home">
    <div class="swiper hero-swiper">
      <div class="swiper-wrapper">
        <div class="swiper-slide"><img src="https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=1920&auto=format&fit=crop" alt="Modern Skyscraper"></div>
        <div class="swiper-slide"><img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&w=1920&auto=format&fit=crop" alt="Sustainable Residential"></div>
        <div class="swiper-slide"><img src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?q=80&w=1920&auto=format&fit=crop" alt="Vibrant Interior"></div>
      </div>
    </div>
    <div class="hero-overlay">
      <div>
        <h1 class="reveal-up">Architectural Innovation</h1>
        <p>Crafting extraordinary spaces that inspire and endure — blending sustainability, function, and human-centered design.</p>
        <div class="cta-row">
          <a href="#portfolio" class="btn primary"><i class="fa-solid fa-eye"></i> View Our Work</a>
          <a href="#contact" class="btn ghost"><i class="fa-solid fa-phone"></i> Get in Touch</a>
        </div>
      </div>
    </div>
  </header>

  <!-- SERVICES -->
  <section class="section" id="features">
    <div class="container">
      <div style="text-align:center; margin-bottom: 40px;">
        <h2 class="title reveal-up">Integrated Design Services</h2>
        <p class="lead reveal-up" style="margin:0 auto">From initial master planning to intricate interior finishes, we offer end-to-end expertise.</p>
      </div>
      <div class="feature-grid">
        <article class="card reveal-left" data-tilt>
          <div class="icon"><i class="fa-solid fa-city"></i></div>
          <h3>Architectural Design</h3>
          <p>Conceptual design, documentation, and structural planning for all building scales (Residential, Commercial, Institutional).</p>
        </article>
        <article class="card reveal-up" data-tilt style="transition-delay: 0.1s">
          <div class="icon"><i class="fa-solid fa-couch"></i></div>
          <h3>Interior Architecture</h3>
          <p>Space planning, furniture design, material selection, and finishing for functional and aesthetic interiors.</p>
        </article>
        <article class="card reveal-up" data-tilt style="transition-delay: 0.2s">
          <div class="icon"><i class="fa-solid fa-tree"></i></div>
          <h3>Sustainable & Green Design</h3>
          <p>Integrating passive strategies, local materials, and energy-efficient systems for LEED compliance and beyond.</p>
        </article>
        <article class="card reveal-right" data-tilt style="transition-delay: 0.3s">
          <div class="icon"><i class="fa-solid fa-location-dot"></i></div>
          <h3>Master Planning & Urbanism</h3>
          <p>Large-scale development, site analysis, zoning compliance, and visioning for future growth.</p>
        </article>
      </div>
    </div>
  </section>

  <!-- PORTFOLIO -->
  <section class="section" id="portfolio">
    <div class="container">
      <div style="text-align:center;">
        <h2 class="title reveal-up">Stunning Portfolio</h2>
      </div>
      <div class="filters reveal-up" id="pf-filters"></div>
      <div class="portfolio" id="pf-grid"></div>
    </div>
  </section>

  <!-- TEAM -->
  <section class="section" id="team">
    <div class="container">
      <div style="text-align:center; margin-bottom: 20px;">
        <h2 class="title reveal-up">Our Creative Team</h2>
        <p class="lead reveal-up" style="margin:0 auto">Meet the passionate architects and engineers who bring your visions to life.</p>
      </div>
      <div class="team" id="team-grid"></div>
    </div>
  </section>

  <!-- CONTACT -->
  <section class="section" id="contact">
    <div class="container contact-wrap">
      <div class="reveal-left">
        <h2 class="title" style="margin-bottom:12px;text-wrap:balance">Let’s Build Something Amazing Together</h2>
        <p class="lead" style="margin-bottom:28px">Tell us about your vision. Our team designs spaces that elevate how people live, work, and feel.</p>

        <div class="panel">
          <form class="grid2" id="contact-form">
            <div class="input-group"><input class="input" name="name" placeholder="Full name" required/></div>
            <div class="input-group"><input class="input" name="email" type="email" placeholder="Email address" required/></div>
            <div class="input-group"><input class="input" name="phone" placeholder="Phone number"/></div>
            <div class="input-group">
              <select class="input" name="service">
                <option value="">Service interested in</option>
                <option>Residential Design</option>
                <option>Commercial Architecture</option>
                <option>Industrial Planning</option>
                <option>Master Planning</option>
                <option>Design Consultation</option>
              </select>
            </div>
            <textarea class="textarea" rows="6" name="message" placeholder="Project details…" style="grid-column:1/-1" required></textarea>
            <button class="cta-btn" type="submit"><i class="fa-solid fa-paper-plane"></i> Send Message</button>
          </form>
        </div>
      </div>

      <div class="visual reveal-right">
        <div class="badge">MW3 Studio</div>
        <img src="https://images.unsplash.com/photo-1497366216548-37526070297c?q=80&w=1600&auto=format&fit=crop" alt="Studio Visual" onerror="this.src='https://placehold.co/2400x1600/3f51b5/ffffff?text=Studio'">
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <svg class="wave" viewBox="0 0 1440 320" preserveAspectRatio="none">
      <defs>
        <linearGradient id="wg" x1="0" x2="1">
          <stop offset="0%" stop-color="#ffe1e6"/>
          <stop offset="50%" stop-color="#e8edff"/>
          <stop offset="100%" stop-color="#ffffff"/>
        </linearGradient>
      </defs>
      <path id="wavePath" fill="url(#wg)" d="M0,224L60,213.3C120,203,240,181,360,170.7C480,160,600,160,720,176C840,192,960,224,1080,234.7C1200,245,1320,235,1380,229.3L1440,224L1440,320L0,320Z"></path>
    </svg>
    <a class="brandfx" href="#home">MW3</a>
    <div class="social">
      <a href="#"><i class="fab fa-facebook-f"></i></a>
      <a href="#"><i class="fab fa-x-twitter"></i></a>
      <a href="#"><i class="fab fa-instagram"></i></a>
      <a href="#"><i class="fab fa-linkedin-in"></i></a>
      <a href="#"><i class="fab fa-behance"></i></a>
    </div>
    <div>© 2025 MW3 Design+Partners. All Rights Reserved.</div>
    <div class="lead" style="margin:6px auto 0">Shaping the future through innovative architectural design.</div>
  </footer>

  <a href="#home" class="top" id="top"><i class="fa-solid fa-arrow-up"></i></a>

  <!-- JS libs -->
  <script src="https://unpkg.com/swiper@11/swiper-bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanilla-tilt@1.8.1/dist/vanilla-tilt.min.js"></script>

  <script>
    const $ = s => document.querySelector(s);
    const $$ = s => Array.from(document.querySelectorAll(s));
    const FILE_URL = 'uploaded:WhatsApp Image 2025-11-02 at 20.50.17_8d7b984f.jpg-cfdeeab3-5df1-4c0e-8ae9-70ef7398b139';

    /* ====== Mobile Menu ====== */
    const menuBtn = $('#menuBtn'), navLinks = $('#links');
    menuBtn.addEventListener('click', () => {
        navLinks.classList.toggle('open');
        menuBtn.innerHTML = navLinks.classList.contains('open') ? '<i class="fa-solid fa-xmark"></i>' : '<i class="fa-solid fa-bars"></i>';
    });
    navLinks.addEventListener('click', (e) => { if(e.target.closest('a')) { navLinks.classList.remove('open'); menuBtn.innerHTML = '<i class="fa-solid fa-bars"></i>'; }});

    /* ====== Theme ====== */
    const label = $('#tlabel');
    const saved = localStorage.getItem('mw3-theme');
    if (saved) document.documentElement.setAttribute('data-theme', saved);
    label.textContent = (document.documentElement.getAttribute('data-theme') === 'dark') ? 'Dark' : 'Light';
    $('#theme').addEventListener('click', () => {
      const next = (document.documentElement.getAttribute('data-theme') === 'dark') ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', next);
      label.textContent = (next === 'dark') ? 'Dark' : 'Light';
      localStorage.setItem('mw3-theme', next);
    });

    /* ====== Swiper & Tilt ====== */
    new Swiper('.hero-swiper',{ loop:true, effect:'fade', fadeEffect:{crossFade:true}, autoplay:{delay:5000, disableOnInteraction:false}, speed:1400 });
    if (window.VanillaTilt) VanillaTilt.init(document.querySelectorAll('[data-tilt]'), { max: 10, speed: 400, glare: true, 'max-glare': 0.3, scale: 1.02 });

    /* ====== Portfolio Generator ====== */
    const WORKS = [
      {t:'Serenity House',c:'residential',img:'https://images.unsplash.com/photo-1600585154526-990dced4db0d?q=80&w=1600&auto=format&fit=crop',tags:['Minimalist','Nature','Luxury']},
      {t:'Urban Glass Villa',c:'residential',img:'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?q=80&w=1600&auto=format&fit=crop',tags:['Modern','Glass']},
      {t:'Coastal Retreat',c:'residential',img:'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=1600&auto=format&fit=crop',tags:['Coastal','Views']},
      {t:'Apex Tower',c:'commercial',img:'https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=1600&auto=format&fit=crop',tags:['Skyscraper']},
      {t:'Hive Workspace',c:'commercial',img:'https://images.unsplash.com/photo-1497366216548-37526070297c?q=80&w=1600&auto=format&fit=crop',tags:['Co-working']},
      {t:'Orion Shopping',c:'commercial',img:'https://images.unsplash.com/photo-1555636222-cae831e670b3?q=80&w=1600&auto=format&fit=crop',tags:['Retail']},
      {t:'Titan Logistics',c:'industrial',img:'https://images.unsplash.com/photo-1553413077-190dd305871c?q=80&w=1600&auto=format&fit=crop',tags:['Logistics']},
      {t:'Automata Robotics',c:'industrial',img:'https://images.unsplash.com/photo-1565008447742-97f6f38c985c?q=80&w=1600&auto=format&fit=crop',tags:['Automation']},
      {t:'Veridia Eco-City',c:'masterplanning',img:'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?q=80&w=1600&auto=format&fit=crop',tags:['Eco-City']},
      {t:'Azure Waterfront',c:'masterplanning',img:'https://images.unsplash.com/photo-1480714378408-67cf0d13bc1b?q=80&w=1600&auto=format&fit=crop',tags:['Waterfront']}
    ];
    const pfGrid = $('#pf-grid'), pfFilters = $('#pf-filters');
    
    ['all','residential','commercial','industrial','masterplanning'].forEach((f,i)=>{
      const b = document.createElement('button'); b.className = 'chip'+(i===0?' active':'');
      b.textContent = f[0].toUpperCase()+f.slice(1);
      b.addEventListener('click', ()=>{ $$('.chip').forEach(x=>x.classList.remove('active')); b.classList.add('active'); render(f); });
      pfFilters.appendChild(b);
    });

    const render = (filter='all') => {
      pfGrid.innerHTML = '';
      (filter==='all'?WORKS:WORKS.filter(w=>w.c===filter)).forEach((w,i)=>{
        const a = document.createElement('article'); a.className='work reveal-up'; a.style.transitionDelay = (i*0.05)+'s';
        a.innerHTML = `<div class="thumb"><img src="${w.img}" alt="${w.t}"></div><div class="meta"><h3>${w.t}</h3><div class="tags">${w.tags.map(t=>`<span class="tag">${t}</span>`).join('')}</div></div>`;
        pfGrid.appendChild(a);
      });
      // Force repaint check
      setTimeout(()=> window.dispatchEvent(new Event('scroll')), 100);
    }
    render();

    /* ====== TEAM Generator ====== */
    const TEAM_MEMBERS = [
      {name:'Ar. Mahtab Hussain Siddique', role:'President & Principal Architect', c: 0, r: 0},
      {name:'Ar. B. M. Anisur Rahman', role:'Senior Architect', c: 1, r: 0},
      {name:'Ar. Mehedi Amin', role:'Senior Architect', c: 2, r: 0},
      {name:'Ar. Abdus Sami', role:'Assistant Architect', c: 0, r: 1},
      {name:'Ar. Joy Bhowmik', role:'Assistant Architect', c: 1, r: 1},
      {name:'Ar. Upama Talukdar', role:'Assistant Architect', c: 2, r: 1},
      {name:'Tanvir Ahmed', role:'Management & Coordination', c: 0, r: 2},
      {name:'Akash Halder', role:'Design Documentation', c: 1, r: 2},
      {name:'Engr. Abtial Islam', role:'Design Documentation', c: 2, r: 2},
      {name:'Engr. Md. Alamgir Hossain', role:'Site Management', c: 0, r: 3},
      {name:'Engr. Md Abdullah Al Mamun', role:'Lead Civil Engineer', c: 1, r: 3}
    ];
    const tg = $('#team-grid');

    TEAM_MEMBERS.forEach((member, i)=>{
      const wrap = document.createElement('div'); wrap.className='person reveal-up'; wrap.style.transitionDelay = (i*0.05)+'s';
      const originX = ((member.c * 100) + 50) / 3;
      const originY = ((member.r * 100) + 50) / 4;

      wrap.innerHTML = `
        <div class="avatar-wrap">
          <img src="${FILE_URL}" alt="${member.name}" style="
            left: -${member.c * 100}%; 
            top: -${member.r * 100}%; 
            transform-origin: ${originX}% ${originY}%;
          " />
        </div>
        <h4>${member.name}</h4>
        <div class="role">${member.role}</div>`;
        
        const img = wrap.querySelector('img');
        wrap.addEventListener('mouseenter', () => img.style.transform = 'scale(1.1)');
        wrap.addEventListener('mouseleave', () => img.style.transform = 'scale(1)');

      tg.appendChild(wrap);
    });

    /* ====== Scroll Logic (MUST RUN AFTER CONTENT GENERATION) ====== */
    const progressBar = $('#progress');
    const nav = $('#nav'), topBtn = $('#top');

    const handleScroll = () => {
        const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
        const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        progressBar.style.width = (winScroll / height) * 100 + "%";

        // Query reveals dynamically here or ensure execution order
        const reveals = $$('.reveal-up, .reveal-left, .reveal-right');
        const trigger = window.innerHeight * 0.85;
        
        reveals.forEach(box => { 
            if(box.getBoundingClientRect().top < trigger) box.classList.add('active'); 
        });

        nav.classList.toggle('scrolled', winScroll > 20);
        topBtn.classList.toggle('show', winScroll > 500);
        
        const pos = winScroll + 150;
        $$('#links a').forEach(a => {
            const sec = document.querySelector(a.getAttribute('href'));
            if (!sec) return;
            const t = sec.offsetTop, b = t + sec.offsetHeight;
            a.classList.toggle('active', pos >= t && pos < b);
        });
    };
    
    window.addEventListener('scroll', handleScroll);
    
    // Initial Trigger
    setTimeout(() => {
        handleScroll();
        // Explicitly show navbar
        nav.style.opacity = 1;
        nav.style.transform = 'translateY(0)';
    }, 100);

    /* ====== Form & Fairy Dust ====== */
    $('#contact-form').addEventListener('submit', e=>{ e.preventDefault(); e.target.querySelector('button').innerHTML='<i class="fa-solid fa-check"></i> Sent'; });

    (function(){
      const canvas = $('#dust'), ctx = canvas.getContext('2d');
      let w=innerWidth, h=innerHeight, parts=[];
      const resize=()=>{w=innerWidth;h=innerHeight;canvas.width=w;canvas.height=h;}
      window.addEventListener('resize', resize); resize();
      
      const spawn=(x,y)=>{ for(let i=0;i<6;i++) parts.push({x,y,vx:(Math.random()-.5),vy:(Math.random()-1),life:Math.random()*60,hue:Math.random()*360}); }
      
      window.addEventListener('mousemove',e=>spawn(e.clientX,e.clientY));
      window.addEventListener('touchmove',e=>{if(e.touches[0]) spawn(e.touches[0].clientX,e.touches[0].clientY)},{passive:true});

      function tick(){
        ctx.clearRect(0,0,w,h);
        for(let i=parts.length-1;i>=0;i--){
          let p=parts[i]; p.x+=p.vx; p.y+=p.vy; p.life--;
          ctx.fillStyle=`hsla(${p.hue},80%,60%,${p.life/60})`;
          ctx.fillRect(p.x,p.y,2,2);
          if(p.life<=0) parts.splice(i,1);
        }
        requestAnimationFrame(tick);
      }
      tick();
    })();
  </script>
</body>
</html>